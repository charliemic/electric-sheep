<?xml version="1.0" encoding="utf-8"?>
<!--
    Backup Rules for Electric Sheep
    
    This file defines what data should be included/excluded from Android backups.
    For security and privacy, we exclude sensitive health data and user information.
    
    See: https://developer.android.com/guide/topics/data/autobackup
-->
<full-backup-content>
    <!--
        Exclude sensitive data from backups:
        - Health data (mood entries) - GDPR special category data
        - User authentication data - if stored locally
        - Quiz/learning data - personal learning patterns
        - Database files - contain all user data
    -->
    
    <!-- Exclude Room database (contains all user data) -->
    <exclude domain="database" path="electric_sheep_database" />
    <exclude domain="database" path="electric_sheep_database-journal" />
    <exclude domain="database" path="electric_sheep_database-shm" />
    <exclude domain="database" path="electric_sheep_database-wal" />
    
    <!-- Exclude SharedPreferences that might contain sensitive data -->
    <!-- Note: We can include non-sensitive preferences if needed -->
    <!-- <exclude domain="sharedpref" path="sensitive_prefs.xml" /> -->
    
    <!-- Exclude files directory (may contain cached sensitive data) -->
    <!-- Note: Only exclude if we store sensitive files here -->
    <!-- <exclude domain="file" path="sensitive/" /> -->
    
    <!--
        Include non-sensitive data:
        - App preferences (theme, settings)
        - Feature flags cache (non-sensitive)
        - App state (non-sensitive)
    -->
    
    <!-- Include SharedPreferences for app settings (non-sensitive) -->
    <include domain="sharedpref" path="app_preferences.xml" />
    
    <!--
        Note: Room database is excluded because it contains:
        - Mood entries (health data - GDPR special category)
        - Quiz sessions (learning patterns)
        - Quiz answers (cognitive data)
        - User IDs (PII)
        
        Users can sync data via Supabase if they need backup/restore.
        Local backups would expose sensitive health data.
    -->
</full-backup-content>

